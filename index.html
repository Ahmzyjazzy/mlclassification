<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./html_assets/fonts/questrial/style.css">
    <link rel="stylesheet" href="./html_assets/fonts/ubuntu/style.css">
    <link rel="stylesheet" href="./html_assets/styles/bulma.min.css">
    <link rel="stylesheet" href="index.css">
    <title>ClassiFi</title>
    <script src="linkers/classifier.js"></script>
</head>

<body>

    <nav class="navbar" role="navigation" aria-label="main navigation" id="nav">
        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu" id="navbarBasicExample">
            <a class="navbar-item has-text-white"><strong>ClassiFi</strong> </a>

        </div>
    </nav>

    <div class="wrapper">
        <div class="columns ">

            <div class="column is-half has-text-centered main-column">
                <p class="is-centered custom-title is-size-2">
                    Training
                </p>
                <br /><br/>
                <div class="card custom-border">
                    <header class="custom-card-header is-pulled-left">
                        <p class="card-header-title is-pulled-left is-centered custom-title is-size-4">
                            Images
                        </p>
                    </header>
                    <br />
                    <div class="card-content">
                        <div class="field has-addons" style="width:80%; margin:auto; padding-bottom: 20px;">
                            <div style="width:30%">
                                <label class="custom-label">Group A</label>
                            </div>
                            <div class="file is-pulled-right">
                                <label class="file-label">
    									<input class="file-input" id="groupa" type="file" name="groupa" webkitdirectory>
    									<span class="file-cta">
      									<span class="file-icon">
        									<i class="fas fa-upload"></i>
      												</span>
      														<span class="file-label" id="folderA">
        														Choose a folder
      														</span>
    										</span>
  									</label>
                            </div>
                            <br/>
                            
                        </div>
                        <p id="a_required" class="has-text-danger"></p>
                        
                        <div class="field has-addons" style="width:80%; margin:auto;padding-bottom: 10px">
                            <div style="width:30%">
                                <label class="custom-label">Group B</label>
                            </div>
                            <div class="file is-pulled-right">
                                <label class="file-label">
    									<input class="file-input" id="groupb" type="file" name="groupb" webkitdirectory>
    									<span class="file-cta">
      									<span class="file-icon">
        									<i class="fas fa-upload"></i>
      												</span>
      														<span class="file-label" id="folderB">
        														Choose a folder
      														</span>
    									</span>
  									</label>
                               
                            </div>
                        </div>
                         <p id="b_required" class="has-text-danger"></p>
                        
                        <div class="card custom-border">
                            <header class="custom-card-header is-pulled-left">
                                <p class="card-header-title is-pulled-left is-centered custom-title is-size-4">
                                    <b>
                                Model</b></p>
                            </header>
                            <br />
                            <label class="checkbox">
                                    <input type="checkbox" id="generate_name">
                                        Generate model name.
                            </label>
                            <p><small>Choose the option above to generate model name or enter model name below</small></p>
                            <div class="card-content">
                                <div class="field has-addons">
                                    <div class="control">
                                        <textarea rows="4" cols="90" name="modelname" placeholder="Model name"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="control">
                            <a class="button custom-button right" id="startTraining" onclick="start_training()">
                        		Start Training</a>
                        </div>
                        <br /><br />
                        <div class="columns is-vcentered has-text-centered">
                            <div class="column is-three-fifths">
                                <progress class="progress progress-left " value="40" max="100"></progress>
                            </div>
                            <div class="column align-item-left">
                                <p><b>40%</b></p>
                            </div>
                            <!-- <div class="column">
                        	<div class="control">
                            <a class="button custom-button right">
                                Save Model
                            </a>
                        	</div>
                    		</div> -->
                        </div>

                    </div>
                </div>
            </div>

            <div class="column is-half has-text-centered main-column">

                <p class="is-centered custom-title is-size-2">
                    <b>Prediction</b>
                </p>
                <br /><br/>
                <div class="card custom-border">
                    <header class="custom-card-header is-pulled-left">
                        <p class="card-header-title is-pulled-left is-centered custom-title is-size-4">
                            <b>
                                Images
                            </b>
                        </p>
                    </header>
                    <br />
                    <div class="card-content">
                        <div class="field has-addons" style="width:80%; margin:auto; padding-bottom: 20px;">
                            <div style="width:30%">
                                <label class="custom-label">Folder</label>
                            </div>
                            <div class="file is-pulled-right">
                                <label class="file-label">
                                        <input class="file-input" id="predfolder" type="file" name="predfolder" webkitdirectory>
                                        <span class="file-cta">
                                        <span class="file-icon">
                                            <i class="fas fa-upload"></i>
                                                    </span>
                                                            <span class="file-label" id="predfoldname">
                                                                Choose a folder
                                                            </span>
                                            </span>
                                    </label>
                            </div>
                            <br/>
                            
                        </div>
                        <div class="field has-addons" style="width:80%; margin:auto; padding-bottom: 10px;">
                            <div style="width:30%">
                                <label class="custom-label">Image</label>
                            </div>
                            <div class="file is-pulled-right break-word">
                                <label class="file-label">
                                        <input class="file-input" id="predfile" type="file" name="predfile">
                                        <span class="file-cta">
                                        <span class="file-icon">
                                            <i class="fas fa-upload"></i>
                                                    </span>
                                                            <span class="file-label " id="predfilename">
                                                                Choose an image
                                                            </span>
                                            </span>
                                    </label>
                            </div>
                            <br/>
                            
                        </div>
                        <p id="working" class="break-word"></p>
                        <div class="columns is-vcentered has-text-centered" style="width:80%; margin:auto;">
                            <div class="" style="width:80%;">
                                <progress class="progress" value="15" max="100">15%</progress>
                            </div>
                            <div class="column">
                                <div class="level">
                                    <div class="level-item is-narrow">
                                        <p class="is-right-spaced"><b>20%</b></p>
                                        <a class="button custom-button has-text-white" onclick="start_prediction()">
                                            Predict
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card custom-border2">
                    <div class="w3-content w3-display-container">
                        <img class="mySlides" src="./testimages/nh3.jpg" style="width:100%; height:250px">
                        <img class="mySlides" src="./testimages/nh4.jpg" style="width:100%; height:250px">
                        <img class="mySlides" src="./testimages/nh5.jpg" style="width:100%; height:250px">
                        <img class="mySlides" src="./testimages/nh6.jpg" style="width:100%; height:250px">

                        <button class="w3-button w3-black w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
                        <button class="w3-button w3-black w3-display-right" onclick="plusDivs(1)">&#10095;</button>
                    </div>
                    <div>
                        <h3 class='h3-pred'>Confidence: </h3>
                        <div class="progress--circle progress--25">
                            <div class="progress__number">80%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <footer id="footer">
        <p class="container">HNG Internship 5</p>
    </footer>

    <!-- For image slider -->
    <script>
        var slideIndex = 1;
        showDivs(slideIndex);

        function plusDivs(n) {
            showDivs(slideIndex += n);
        }

        function showDivs(n) {
            var i;
            var x = document.getElementsByClassName("mySlides");
            if (n > x.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = x.length
            }
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex - 1].style.display = "block";
        }
    </script>
    <script>
        // Folder selection 
        var groupa = document.getElementById("groupa");
        groupa.onchange = function() {
            var ga = document.getElementById('a_required');
            ga.innerHTML =""
            if (groupa.files.length > 0) {
                console.log(groupa.files[0].name);
                document.getElementById('folderA').innerHTML = groupa.files[0].name;
            }
        }

        var groupb = document.getElementById("groupb");
        groupb.onchange = function() {
            var gb = document.getElementById('b_required');
            gb.innerHTML =""
            if (groupb.files.length > 0) {
                console.log(groupb.files[0].name);
                document.getElementById('folderB').innerHTML = groupb.files[0].name;
            }
        };
        // Folder selection 
        var predfolder = document.getElementById("predfolder");
        predfolder.onchange = function() {
            if (predfolder.files.length > 0) {
                console.log(predfolder.files[0].name);
                document.getElementById('predfoldname').innerHTML = predfolder.files[0].name;
            }
        }

        var predfile = document.getElementById("predfile");
        predfile.onchange = function() {
            if (predfile.files.length > 0) {
                console.log(predfile.files[0].name);
                document.getElementById('predfilename').innerHTML = predfile.files[0].name;
            }
        };

    </script>
</body>

</html>